install:
	@echo "--- ğŸš€ Installing project ---"
	uv sync --extra dev --extra docs --extra tests
	# pip install -e ".[dev, docs, tests]" 

static-type-check:
	@echo "--- ğŸ” Running static type check ---"
	uv pyright .

lint-check:
	@echo "--- ğŸ§¹ Check is project is linted ---"
	# Required for CI to work, otherwise it will just pass
	uv ruff format . --check						    # running ruff formatting
	uv ruff check **/*.py 						        # running ruff linting

lint:
	@echo "--- ğŸ§¹ Running linters ---"
	uv ruff format .  								# running ruff formatting (.ipynb, .py)
	uv ruff check **/*.py --fix  				    # running ruff linting (.py)

test:
	@echo "--- ğŸ§ª Running tests ---"
	uv pytest tests/ -n auto --durations=5

pr:
	@echo "--- ğŸš€ Running PR checks ---"
	make lint
	make test
	@echo "If all tests pass, wee are ready to make a PR"

build-docs:
	@echo "--- ğŸ“š Building docs ---"
	@echo "Builds the docs and puts them in the 'site' folder"
	uv mkdocs build

view-docs:
	@echo "--- ğŸ‘€ Viewing docs ---"
	uv mkdocs serve
	
update-from-template:
	@echo "--- ğŸ”„ Updating from template ---"
	@echo "This will update the project from the template, make sure to resolve any .rej files"
	uv cruft update --skip-apply-ask
	
